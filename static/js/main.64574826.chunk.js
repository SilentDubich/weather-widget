(this.webpackJsonpsociaro=this.webpackJsonpsociaro||[]).push([[0],{1:function(e,t,a){e.exports={container_img__little:"stylesCityCard_container_img__little__1XdmB",container_items__little:"stylesCityCard_container_items__little__30xaO",container_background__width:"stylesCityCard_container_background__width__1C8Wp",container__marginAuto:"stylesCityCard_container__marginAuto__1hHSr",container__positionBottom:"stylesCityCard_container__positionBottom__Ro9yk",container__background:"stylesCityCard_container__background__2tfaP",container_paramInfo__decor:"stylesCityCard_container_paramInfo__decor__1T9gA",container_paramName__decor:"stylesCityCard_container_paramName__decor__5OM-3",container_mainTemp__boldFont:"stylesCityCard_container_mainTemp__boldFont__2N3YV",container_celsius__upText:"stylesCityCard_container_celsius__upText__1q1kk",container_minMaxTemp__opacity:"stylesCityCard_container_minMaxTemp__opacity__1_pZZ",container_minMaxArrow__fs:"stylesCityCard_container_minMaxArrow__fs__2RFMn",container_minMaxArrow__alighUp:"stylesCityCard_container_minMaxArrow__alighUp__3NYDU",container_minMaxArrow__alighDown:"stylesCityCard_container_minMaxArrow__alighDown__2olVk",container_items__marginUpBottom:"stylesCityCard_container_items__marginUpBottom__33Z1e",container_header__margins:"stylesCityCard_container_header__margins__Y_ivR",container_header__fs:"stylesCityCard_container_header__fs__2r2Ds",container_header__opacity:"stylesCityCard_container_header__opacity__2odSx",container_headerCity__blueBack:"stylesCityCard_container_headerCity__blueBack__1rn7p",container_tagPhoto__width:"stylesCityCard_container_tagPhoto__width__24ww-",container_notChose__font:"stylesCityCard_container_notChose__font__330Tb"}},11:function(e,t,a){e.exports=a.p+"static/media/tag.8aa75e6a.svg"},15:function(e,t,a){e.exports=a.p+"static/media/night.66e90e8d.svg"},27:function(e,t,a){e.exports=a.p+"static/media/sunrise.35e1634c.svg"},28:function(e,t,a){e.exports=a.p+"static/media/sunset.6b4fc41a.svg"},29:function(e,t,a){e.exports=a.p+"static/media/wind.96892bc1.svg"},3:function(e,t,a){e.exports={container__background:"stylesCitiesList_container__background__2Ulwz",cursor:"stylesCitiesList_cursor__12zOB",items_font__decor:"stylesCitiesList_items_font__decor__3ISxM",items_font__margin:"stylesCitiesList_items_font__margin__3zyZ4",items_temp__margin:"stylesCitiesList_items_temp__margin__1by12",items_upper__decor:"stylesCitiesList_items_upper__decor__3KqOZ",deleteButton__decor:"stylesCitiesList_deleteButton__decor__YpaPA",input__margin:"stylesCitiesList_input__margin__2UYVO",input__decor:"stylesCitiesList_input__decor__2FplI",button__position:"stylesCitiesList_button__position__Kskot"}},30:function(e,t,a){e.exports=a.p+"static/media/sand-clock.84e55b96.svg"},31:function(e,t,a){e.exports=a.p+"static/media/pressure.e8bba4f9.svg"},32:function(e,t,a){e.exports=a.p+"static/media/humidity.98b6e7bc.svg"},33:function(e,t,a){e.exports=a.p+"static/media/day.34951eba.svg"},36:function(e,t,a){e.exports=a.p+"static/media/Spinner-1.4s-3a356a.4b7d2a00.svg"},37:function(e,t,a){e.exports={preloader__position:"preloaderStyles_preloader__position__2CISw",preloader__backgroundOpacity:"preloaderStyles_preloader__backgroundOpacity__2alRK"}},41:function(e,t,a){e.exports=a(72)},46:function(e,t,a){},47:function(e,t,a){},5:function(e,t,a){e.exports={container_items__displayFlex:"common_container_items__displayFlex__jvJLG",container_items__displayCenter:"common_container_items__displayCenter__hD1l_"}},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),c=a.n(i),o=(a(46),a(39)),s=(a(47),a(3)),_=a.n(s),m=a(11),l=a.n(m),u=function(e){var t=r.a.createRef();return r.a.createElement("div",{className:_.a.input__margin},r.a.createElement("div",null,r.a.createElement("input",{className:_.a.input__decor,onChange:function(){t.current&&e.updText(t.current.value)},ref:t,value:e.text}),r.a.createElement("span",{className:_.a.button__position,onClick:function(){e.addCity(e.text),e.setChose(!1)}},r.a.createElement("img",{src:l.a}))))},d=a(5),p=a.n(d),y=function(e){var t=e.cities.sort((function(e,t){return e.name<t.name?-1:e.name<t.name?1:void 0})).map((function(t,a){return r.a.createElement("div",{key:t.id},r.a.createElement("div",{className:_.a.items_upper__decor},void 0===e.cities[a-1]&&r.a.createElement("b",null,e.cities[a].name[0])||e.cities[a-1].name[0]!==e.cities[a].name[0]&&r.a.createElement("b",null,e.cities[a].name[0])),r.a.createElement("div",{className:"".concat(p.a.container_items__displayFlex)},r.a.createElement("div",{className:"".concat(_.a.items_font__margin," ").concat(_.a.cursor),key:t.id,onClick:function(){return a=t,e.setCity(a),void e.setChoose(!1);var a}},r.a.createElement("span",{className:"".concat(_.a.items_font__decor)},t.name,","),r.a.createElement("span",{className:"".concat(_.a.items_font__decor)},t.sys.country)),r.a.createElement("div",null,r.a.createElement("span",{className:"".concat(_.a.items_font__decor," ").concat(_.a.items_temp__margin)},Math.ceil(t.main.temp),"\u2103")),r.a.createElement("div",null,r.a.createElement("button",{className:_.a.deleteButton__decor,onClick:function(){return e.deleteCity(t.id)}},r.a.createElement("span",null,"\u2715")))))}));return r.a.createElement("div",{className:_.a.container__background},t)},f=function(){var e=localStorage.cities&&localStorage.getItem("cities"),t=[];return e&&(t=JSON.parse(e)),t},C=function(e){var t=new Date(1e3*e),a=t.getHours(),n="0"+t.getMinutes();t.getSeconds();return"".concat(a,":").concat(n.substr(-2))},h=function(e,t,a){var n=f();"add"===e?a&&(n=n.filter((function(e){return e!==t}))).push(t):n=n.filter((function(e){return e!==t})),localStorage.setItem("cities",JSON.stringify(n))},g=a(1),v=a.n(g),E=a(27),b=a.n(E),x=a(28),N=a.n(x),w=a(29),k=a.n(w),O=a(30),j=a.n(O),M=a(31),R=a.n(M),I=a(32),T=a.n(I),L=a(33),S=a.n(L),A=a(15),B=a.n(A),F=function(e){return r.a.createElement("div",{className:e.container},r.a.createElement("div",{className:e.containerParam},r.a.createElement("img",{src:e.photo,alt:""})),r.a.createElement("div",{className:e.containerParam},r.a.createElement("span",{className:e.paramInfo},e.param)),r.a.createElement("div",{className:e.containerParam},r.a.createElement("span",{className:e.paramName},e.name)))},P=function(e){var t="",a="",n="",i="";Object.keys(e.current).length>0&&(t=function(e){var t=new Date(1e3*e),a=t.getDay(),n=t.getDate(),r=t.getMonth(),i=t.getFullYear(),c=C(e);return"".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][a],", ").concat(n," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][r]," ").concat(i," | ").concat(c)}(e.current.dt),i=function(e,t){var a=e.split(":"),n=t.split(":"),r=60*+a[0]+ +a[1],i=60*+n[0]+ +n[1]-r,c=Math.floor(i/60),o=Math.floor(i-60*c);return"".concat(c,":").concat(o)}(a=C(e.current.sys.sunrise),n=C(e.current.sys.sunset)));var c="".concat(v.a.container__marginAuto," ").concat(v.a.container_items__little," ").concat(v.a.container_items__marginUpBottom),o="".concat(v.a.container__marginAuto),s="".concat(v.a.container_paramInfo__decor),_="".concat(v.a.container_paramName__decor),m=+C(e.current.dt).split(":")[0],u=m>18&&B.a||m<4&&B.a||S.a;return r.a.createElement("div",null,Object.keys(e.current).length>0&&r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{className:v.a.container_background__width,src:u,alt:""})),r.a.createElement("div",{className:"".concat(v.a.container__positionBottom," ").concat(v.a.container__background)},r.a.createElement("div",{className:"".concat(p.a.container_items__displayFlex)},r.a.createElement("div",{className:"".concat(v.a.container_header__margins," ").concat(v.a.container_header__fs," ").concat(v.a.container_header__opacity)},t),r.a.createElement("div",{className:"".concat(v.a.container_header__margins," ").concat(v.a.container_header__fs," ").concat(v.a.container_headerCity__blueBack)},r.a.createElement("span",null,e.current.name,", ",e.current.sys.country),r.a.createElement("img",{onClick:function(){return e.setChoose(!0)},className:v.a.container_tagPhoto__width,src:l.a,alt:""}))),r.a.createElement("div",{className:p.a.container_items__displayFlex},r.a.createElement("div",{className:c},r.a.createElement("span",{className:v.a.container_mainTemp__boldFont},e.current.weather[0].main)),r.a.createElement("div",{className:c},r.a.createElement("span",{className:v.a.container_mainTemp__boldFont},e.current.main.temp),r.a.createElement("span",{className:v.a.container_celsius__upText},"\u2103")),r.a.createElement("div",{className:c},r.a.createElement("div",null,r.a.createElement("span",{className:v.a.container_minMaxTemp__opacity},e.current.main.temp_max,"\u2103"),r.a.createElement("span",{className:"".concat(v.a.container_minMaxTemp__opacity," ").concat(v.a.container_minMaxArrow__alighUp," ").concat(v.a.container_minMaxArrow__fs)},"\u2191")),r.a.createElement("div",null,r.a.createElement("span",{className:v.a.container_minMaxTemp__opacity},e.current.main.temp_min,"\u2103"),r.a.createElement("span",{className:"".concat(v.a.container_minMaxTemp__opacity," ").concat(v.a.container_minMaxArrow__alighDown," ").concat(v.a.container_minMaxArrow__fs)},"\u2193")))),r.a.createElement("div",{className:p.a.container_items__displayFlex},r.a.createElement(F,{container:c,containerParam:o,param:"".concat(e.current.main.humidity,"%"),paramInfo:s,paramName:_,name:"Humidity",photo:T.a}),r.a.createElement(F,{container:c,containerParam:o,param:"".concat(e.current.main.pressure,"mBar"),paramInfo:s,paramName:_,name:"Pressure",photo:R.a}),r.a.createElement(F,{container:c,containerParam:o,param:"".concat(e.current.wind.speed,"km/h"),paramInfo:s,paramName:_,name:"Wind",photo:k.a})),r.a.createElement("div",{className:p.a.container_items__displayFlex},r.a.createElement(F,{container:c,containerParam:o,param:a,paramInfo:s,paramName:_,name:"Sunrise",photo:b.a}),r.a.createElement(F,{container:c,containerParam:o,param:n,paramInfo:s,paramName:_,name:"Sunset",photo:N.a}),r.a.createElement(F,{container:c,containerParam:o,param:i,paramInfo:s,paramName:_,name:"Day time",photo:j.a})))),0===Object.keys(e.current).length&&r.a.createElement("div",{className:"".concat(v.a.container__background)},r.a.createElement("div",{onClick:function(){return e.setChoose(!0)},className:"".concat(v.a.container_notChose__width," ").concat(v.a.container_notChose__font)},r.a.createElement("span",null,"City not chosen!"),r.a.createElement("span",null,"Chose!"))))},D=a(12),U=a(40),J=a(2),Y=a(6),W=a.n(Y),Z=a(13),q=a(35),z="69ce2885297a6948d2f90220e8476c69",H=a.n(q).a.create({baseURL:"https://api.openweathermap.org/data/2.5/"}),K=function(e){return H.get("weather?q=".concat(e,"&appid=").concat(z,"&units=metric")).then((function(e){return e.data}))},V=function(e){return H.get("group?id=".concat(e,"&appid=").concat(z,"&units=metric")).then((function(e){return e.data}))},G={addCity:function(e){return{type:"citiesReducer/addCity",data:e}},deleteCity:function(e){return{type:"citiesReducer/deleteCity",id:e}},setCity:function(e){return{type:"citiesReducer/setCity",data:e}},uploadCities:function(e){return{type:"citiesReducer/uploadCities",cities:e}},updText:function(e){return{type:"citiesReducer/updText",text:e}},setError:function(e){return{type:"citiesReducer/setError",data:e}},setInit:function(){return{type:"citiesReducer/setInit"}}},X=function(){return function(){var e=Object(Z.a)(W.a.mark((function e(t){var a,n,r,i,c,o;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=20,n=f(),r=Math.ceil(n.length/a),i=[],c=0;case 5:if(!(c<r)){e.next=14;break}return o=n.slice(c*a,c*a+a),e.next=9,V(o.join(","));case 9:e.sent.list.forEach((function(e){return i.push(e)}));case 11:c++,e.next=5;break;case 14:t(G.uploadCities(i)),t(G.setInit());case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},$={citiesList:[],currentCity:{},text:"",errors:{},isInit:!1,isFetch:!1},Q=a(36),ee=a.n(Q),te=a(37),ae=a.n(te),ne=function(e){return r.a.createElement("div",null,r.a.createElement("img",{className:"".concat(ae.a.preloader__position),src:ee.a}))},re=Object(D.b)((function(e){return{cities:e.citiesReducer.citiesList,currentCity:e.citiesReducer.currentCity,text:e.citiesReducer.text,err:e.citiesReducer.errors,isInit:e.citiesReducer.isInit}}),{getCities:X,updText:G.updText,addCity:function(e){return function(){var t=Object(Z.a)(W.a.mark((function t(a){var n;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K(e);case 3:n=t.sent,h("add",n.id,n),a(G.addCity(n)),a(G.setError({})),a(G.setCity(n)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a(G.setError({resultCode:1,errors:["\u0422\u0430\u043a\u043e\u0433\u043e \u0433\u043e\u0440\u043e\u0434\u0430 \u043d\u0435\u0442"]}));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},uploadCities:X,setCity:G.setCity,deleteCity:function(e){return function(){var t=Object(Z.a)(W.a.mark((function t(a){return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h("delete",e),a(G.deleteCity(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),i=a[0],c=a[1];return Object(n.useEffect)((function(){e.uploadCities()}),[]),e.isInit?r.a.createElement("div",null,i?r.a.createElement("div",null,r.a.createElement(u,{setChose:c,addCity:e.addCity,text:e.text,updText:e.updText}),e.err.errors&&e.err.errors[0],r.a.createElement(y,{deleteCity:e.deleteCity,setCity:e.setCity,cities:e.cities,choose:i,setChoose:c})):r.a.createElement("div",null,r.a.createElement(P,{current:e.currentCity,choose:i,setChoose:c}))):r.a.createElement(ne,null)}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ie=a(7),ce=a(38),oe=Object(ie.c)({citiesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"citiesReducer/addCity":return Object(J.a)(Object(J.a)({},e),{},{citiesList:[].concat(Object(U.a)(e.citiesList),[t.data]),text:""});case"citiesReducer/deleteCity":return Object(J.a)(Object(J.a)({},e),{},{citiesList:e.citiesList.filter((function(e){return e.id!==t.id}))});case"citiesReducer/setCity":return Object(J.a)(Object(J.a)({},e),{},{currentCity:t.data});case"citiesReducer/uploadCities":return Object(J.a)(Object(J.a)({},e),{},{citiesList:t.cities});case"citiesReducer/updText":return Object(J.a)(Object(J.a)({},e),{},{text:t.text});case"citiesReducer/setError":return Object(J.a)(Object(J.a)({},e),{},{errors:t.data});case"citiesReducer/setInit":return Object(J.a)(Object(J.a)({},e),{},{isInit:!0});default:return e}}}),se=Object(ie.d)(oe,Object(ie.a)(ce.a));window.store=se,c.a.render(r.a.createElement(D.a,{store:se},r.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.64574826.chunk.js.map